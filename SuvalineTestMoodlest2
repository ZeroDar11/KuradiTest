from onnitleja import (
    kogu_soovid,
    kogu_saajad,
    koosta_onnitlused
)

# ---------- ALGSEADISTUS ----------

try:
    kogu_soovid()
    kogu_saajad()
except ValueError as viga:
    print("Viga andmete kogumisel:", viga)
    exit()


# ---------- MENÃœÃœ ----------

while True:
    try:
        print("\n--- JÃ•ULUTERVITUSTE MENÃœÃœ ---")
        print("1: Ã•nnitle kÃµiki saajaid")
        print("2: Ã•nnitle Ã¼hte saajat")
        print("3: Ã•nnitle mitut saajat")
        print("0: VÃ¤lju")

        valik = int(input("Vali tegevus: "))

        if valik == 1:
            tulemused = koosta_onnitlused()

        elif valik == 2:
            aadress = input("Sisesta e-posti aadress: ")
            tulemused = koosta_onnitlused([aadress])

        elif valik == 3:
            aadressid = input("Sisesta e-postid (komadega): ")
            aadresside_list = aadressid.split(",")
            tulemused = koosta_onnitlused(aadresside_list)

        elif valik == 0:
            print("Programm lÃµpetatud ðŸŽ„")
            break

        else:
            print("Tundmatu valik!")
            continue

        print("\n--- Ã•NNITLUSED ---")
        for t in tulemused:
            print(t)

    except ValueError as viga:
        print("Viga:", viga)
